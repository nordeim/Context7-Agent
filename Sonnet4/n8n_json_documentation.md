Based on the documentation I've retrieved, here's a comprehensive guide to the n8n workflow JSON format:                                                                                                                                │
                                                                                                                                                                                                                                        │
## n8n Workflow JSON Structure                                                                                                                                                                                                          │
                                                                                                                                                                                                                                        │
The n8n workflow JSON format follows a consistent structure that includes:                                                                                                                                                              │
                                                                                                                                                                                                                                        │
### Core Structure                                                                                                                                                                                                                      │
```json                                                                                                                                                                                                                                 │
{                                                                                                                                                                                                                                       │
  "name": "Workflow Name",                                                                                                                                                                                                              │
  "nodes": [...],                                                                                                                                                                                                                       │
  "connections": {...},                                                                                                                                                                                                                 │
  "active": false,                                                                                                                                                                                                                      │
  "settings": {},                                                                                                                                                                                                                       │
  "staticData": null,                                                                                                                                                                                                                   │
  "tags": [],                                                                                                                                                                                                                           │
  "pinData": {}                                                                                                                                                                                                                         │
}                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
### Node Structure                                                                                                                                                                                                                      │
Each node in the `nodes` array has this format:                                                                                                                                                                                         │
```json                                                                                                                                                                                                                                 │
{                                                                                                                                                                                                                                       │
  "parameters": {                                                                                                                                                                                                                       │
    // Node-specific configuration                                                                                                                                                                                                      │
  },                                                                                                                                                                                                                                    │
  "name": "Node Name",                                                                                                                                                                                                                  │
  "type": "n8n-nodes-base.nodeType",                                                                                                                                                                                                    │
  "typeVersion": 1,                                                                                                                                                                                                                     │
  "position": ,                                                                                                                                                                                                                         │
  "id": "unique-uuid",                                                                                                                                                                                                                  │
  "credentials": {                                                                                                                                                                                                                      │
    // Credential references                                                                                                                                                                                                            │
  }                                                                                                                                                                                                                                     │
}                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
### Connection Structure                                                                                                                                                                                                                │
Connections define the flow between nodes:                                                                                                                                                                                              │
```json                                                                                                                                                                                                                                 │
"connections": {                                                                                                                                                                                                                        │
  "SourceNode": {                                                                                                                                                                                                                       │
    "main": [                                                                                                                                                                                                                           │
      [                                                                                                                                                                                                                                 │
        {                                                                                                                                                                                                                               │
          "node": "TargetNode",                                                                                                                                                                                                         │
          "type": "main",                                                                                                                                                                                                               │
          "index": 0                                                                                                                                                                                                                    │
        }                                                                                                                                                                                                                               │
      ]                                                                                                                                                                                                                                 │
    ]                                                                                                                                                                                                                                   │
  }                                                                                                                                                                                                                                     │
}                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
### Complete Example                                                                                                                                                                                                                    │
Here's a minimal but complete workflow:                                                                                                                                                                                                 │
                                                                                                                                                                                                                                        │
```json                                                                                                                                                                                                                                 │
{                                                                                                                                                                                                                                       │
  "name": "My New Workflow",                                                                                                                                                                                                            │
  "nodes": [                                                                                                                                                                                                                            │
    {                                                                                                                                                                                                                                   │
      "parameters": {},                                                                                                                                                                                                                 │
      "name": "Start",                                                                                                                                                                                                                  │
      "type": "n8n-nodes-base.start",                                                                                                                                                                                                   │
      "typeVersion": 1,                                                                                                                                                                                                                 │
      "id": "a1b2c3d4-e5f6-7890-1234-567890abcdef",                                                                                                                                                                                     │
      "position": [130, 640]                                                                                                                                                                                                            │
    },                                                                                                                                                                                                                                  │
    {                                                                                                                                                                                                                                   │
      "parameters": {                                                                                                                                                                                                                   │
        "url": "https://api.example.com/data",                                                                                                                                                                                          │
        "method": "GET"                                                                                                                                                                                                                 │
      },                                                                                                                                                                                                                                │
      "name": "HTTP Request",                                                                                                                                                                                                           │
      "type": "n8n-nodes-base.httpRequest",                                                                                                                                                                                             │
      "typeVersion": 1,                                                                                                                                                                                                                 │
      "position": [430, 300]                                                                                                                                                                                                            │
    }                                                                                                                                                                                                                                   │
  ],                                                                                                                                                                                                                                    │
  "connections": {                                                                                                                                                                                                                      │
    "Start": {                                                                                                                                                                                                                          │
      "main": [                                                                                                                                                                                                                         │
        [                                                                                                                                                                                                                               │
          {                                                                                                                                                                                                                             │
            "node": "HTTP Request",                                                                                                                                                                                                     │
            "type": "main",                                                                                                                                                                                                             │
            "index": 0                                                                                                                                                                                                                  │
          }                                                                                                                                                                                                                             │
        ]                                                                                                                                                                                                                               │
      ]                                                                                                                                                                                                                                 │
    }                                                                                                                                                                                                                                   │
  },                                                                                                                                                                                                                                    │
  "active": false,                                                                                                                                                                                                                      │
  "settings": {},                                                                                                                                                                                                                       │
  "staticData": null,                                                                                                                                                                                                                   │
  "tags": []                                                                                                                                                                                                                            │
}                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
### Key Components                                                                                                                                                                                                                      │
                                                                                                                                                                                                                                        │
1. **Nodes**: Define the operations in your workflow                                                                                                                                                                                    │
   - `parameters`: Node-specific settings                                                                                                                                                                                               │
   - `type`: The node type (e.g., `n8n-nodes-base.httpRequest`)                                                                                                                                                                         │
   - `position`: Visual placement coordinates                                                                                                                                                                                           │
   - `credentials`: References to stored credentials                                                                                                                                                                                    │
                                                                                                                                                                                                                                        │
2. **Connections**: Define data flow between nodes                                                                                                                                                                                      │
   - Use the `main` array for standard connections                                                                                                                                                                                      │
   - Multiple outputs use separate arrays                                                                                                                                                                                               │
                                                                                                                                                                                                                                        │
3. **Metadata**:                                                                                                                                                                                                                        │
   - `name`: Workflow display name                                                                                                                                                                                                      │
   - `active`: Whether the workflow is enabled                                                                                                                                                                                          │
   - `settings`: Workflow-level configuration                                                                                                                                                                                           │
   - `tags`: Categorization tags                                                                                                                                                                                                        │
                                                                                                                                                                                                                                        │
### Working with Workflows                                                                                                                                                                                                              │
                                                                                                                                                                                                                                        │
**Export/Import via CLI:**                                                                                                                                                                                                              │
```bash                                                                                                                                                                                                                                 │
# Export all workflows                                                                                                                                                                                                                  │
n8n export:workflow --all --output=backups/                                                                                                                                                                                             │
                                                                                                                                                                                                                                        │
# Import workflows                                                                                                                                                                                                                      │
n8n import:workflow --input=file.json                                                                                                                                                                                                   │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
**REST API Operations:**                                                                                                                                                                                                                │
```http                                                                                                                                                                                                                                 │
# Get workflow                                                                                                                                                                                                                          │
GET https://<n8n-domain>/rest/workflows/1012                                                                                                                                                                                            │
                                                                                                                                                                                                                                        │
# Create workflow                                                                                                                                                                                                                       │
POST https://<n8n-domain>/rest/workflows/                                                                                                                                                                                               │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
**Data Structure Between Nodes:**                                                                                                                                                                                                       │
```json                                                                                                                                                                                                                                 │
[                                                                                                                                                                                                                                       │
  {                                                                                                                                                                                                                                     │
    "json": {                                                                                                                                                                                                                           │
      "key": "value"                                                                                                                                                                                                                    │
    },                                                                                                                                                                                                                                  │
    "binary": {                                                                                                                                                                                                                         │
      "attachment": {                                                                                                                                                                                                                   │
        "data": "...",                                                                                                                                                                                                                  │
        "mimeType": "image/png"                                                                                                                                                                                                         │
      }                                                                                                                                                                                                                                 │
    }                                                                                                                                                                                                                                   │
  }                                                                                                                                                                                                                                     │
]                                                                                                                                                                                                                                       │
```                                                                                                                                                                                                                                     │
                                                                                                                                                                                                                                        │
This format allows you to programmatically create, modify, and manage n8n workflows using JSON, making it easy to version control, backup, or generate workflows dynamically.  
