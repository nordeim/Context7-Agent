$ python3 src/cli.py 
╭─────────────────────────────────────────────────────────────────────────────────────────────────────── Welcome to Context7 Agent ────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│                                                                                                                                                                                                                                          │
│    _____           _            _   ___                                                                                                                                                                                                  │
│   / ____|         | |          | | |__ \                                                                                                                                                                                                 │
│  | |    |__   ___ | |_ ___  ___| |_   ) |                                                                                                                                                                                                │
│  | |    / _ \ / _ \| __/ _ \/ __| __| / /                                                                                                                                                                                                │
│  | |___| (_) | (_) | ||  __/\__ \ |_ / /_                                                                                                                                                                                                │
│   \_____\___/ \___/ \__\___||___/\__|____|                                                                                                                                                                                               │
│                                                                                                                                                                                                                                          │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯
Hello! Chat naturally or use /commands. Try 'Tell me about AI ethics'.
Context7 Documentation MCP Server running on stdio
You: n8n workflow documentation on json format
Loading... •
╭───────────────────────────────────────────────────────────────────────────────────────────────────────────────── Agent ──────────────────────────────────────────────────────────────────────────────────────────────────────────────────╮
│ n8n does not publish a single, canonical JSON-schema document for the **workflow file format**, but the structure is stable and can be inferred from:                                                                                    │
│                                                                                                                                                                                                                                          │
│ 1. The TypeScript interfaces in the open-source code (`packages/workflow/src/Interfaces.ts`).                                                                                                                                            │
│ 2. The “Export → Download” action in the UI (which produces a `.json` file that always follows the same shape).                                                                                                                          │
│ 3. The REST endpoint `GET /rest/workflows/:id` (returns the same JSON you see when you download).                                                                                                                                        │
│                                                                                                                                                                                                                                          │
│ Below is a concise field-by-field description of the **top-level keys** you will find in every exported workflow JSON.                                                                                                                   │
│ (You can paste any exported file into a JSON viewer to see real examples.)                                                                                                                                                               │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ Top-level object                                                                                                                                                                                                                         │
│ -------------------------------------------------                                                                                                                                                                                        │
│ ```json5                                                                                                                                                                                                                                 │
│ {                                                                                                                                                                                                                                        │
│   "name": "My workflow",                                                                                                                                                                                                                 │
│   "active": false,                 // true = workflow is ON                                                                                                                                                                              │
│   "nodes": [ /* … */ ],            // array of node objects                                                                                                                                                                              │
│   "connections": { /* … */ },      // edges between nodes                                                                                                                                                                                │
│   "settings": { /* … */ },         // workflow-level settings                                                                                                                                                                            │
│   "id": "42",                      // internal id (optional on import)                                                                                                                                                                   │
│   "meta": {                        // optional UI-only metadata                                                                                                                                                                          │
│     "instanceId": "abc123…"                                                                                                                                                                                                              │
│   },                                                                                                                                                                                                                                     │
│   "tags": [                        // optional array of tag objects                                                                                                                                                                      │
│     { "id": "1", "name": "prod" }                                                                                                                                                                                                        │
│   ],                                                                                                                                                                                                                                     │
│   "versionId": "1a2b3c…",         // optimistic-locking token (UI only)                                                                                                                                                                  │
│   "createdAt": "2023-10-01T…",     // ISO date strings (UI only)                                                                                                                                                                         │
│   "updatedAt": "2023-10-02T…"                                                                                                                                                                                                            │
│ }                                                                                                                                                                                                                                        │
│ ```                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ nodes[] – each element                                                                                                                                                                                                                   │
│ -------------------------------------------------                                                                                                                                                                                        │
│ ```json5                                                                                                                                                                                                                                 │
│ {                                                                                                                                                                                                                                        │
│   "parameters": { /* node-specific params */ },                                                                                                                                                                                          │
│   "id": "9e5c…",                  // UUID generated by UI                                                                                                                                                                                │
│   "name": "Slack",                // unique per workflow                                                                                                                                                                                 │
│   "type": "n8n-nodes-base.slack",                                                                                                                                                                                                        │
│   "typeVersion": 1.2,             // node schema version                                                                                                                                                                                 │
│   "position": [450, 300],         //  on canvas                                                                                                                                                                                          │
│   "disabled": false,              // true = node is skipped                                                                                                                                                                              │
│   "notes": "optional comment",                                                                                                                                                                                                           │
│   "retryOnFail": true,                                                                                                                                                                                                                   │
│   "maxTries": 3,                                                                                                                                                                                                                         │
│   "waitBetweenTries": 1000,                                                                                                                                                                                                              │
│   "alwaysOutputData": false,                                                                                                                                                                                                             │
│   "continueOnFail": false,                                                                                                                                                                                                               │
│   "credentials": {                // only if node needs creds                                                                                                                                                                            │
│     "slackApi": {                                                                                                                                                                                                                        │
│       "id": "cred-uuid",                                                                                                                                                                                                                 │
│       "name": "Slack account"                                                                                                                                                                                                            │
│     }                                                                                                                                                                                                                                    │
│   },                                                                                                                                                                                                                                     │
│   "webhookId": "webhook-uuid",    // only for webhook nodes                                                                                                                                                                              │
│   "executeOnce": false,                                                                                                                                                                                                                  │
│   "onError": "continueDefaultOutput"                                                                                                                                                                                                     │
│ }                                                                                                                                                                                                                                        │
│ ```                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ connections – mapping node names → outputs                                                                                                                                                                                               │
│ -------------------------------------------------                                                                                                                                                                                        │
│ ```json5                                                                                                                                                                                                                                 │
│ {                                                                                                                                                                                                                                        │
│   "Slack": {                                                                                                                                                                                                                             │
│     "main": [                     // "main" is the standard output                                                                                                                                                                       │
│       [                           // first branch                                                                                                                                                                                        │
│         { "node": "Set", "type": "main", "index": 0 }                                                                                                                                                                                    │
│       ],                                                                                                                                                                                                                                 │
│       [                           // second branch (if node has >1 output)                                                                                                                                                               │
│         { "node": "IF", "type": "main", "index": 0 }                                                                                                                                                                                     │
│       ]                                                                                                                                                                                                                                  │
│     ]                                                                                                                                                                                                                                    │
│   }                                                                                                                                                                                                                                      │
│ }                                                                                                                                                                                                                                        │
│ ```                                                                                                                                                                                                                                      │
│ - Keys are the **names** of the source nodes.                                                                                                                                                                                            │
│ - Each node can expose multiple named outputs (`main`, `error`, etc.).                                                                                                                                                                   │
│ - Each output is an array of branches; each branch is an array of connections.                                                                                                                                                           │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ settings – workflow-level options                                                                                                                                                                                                        │
│ -------------------------------------------------                                                                                                                                                                                        │
│ ```json5                                                                                                                                                                                                                                 │
│ {                                                                                                                                                                                                                                        │
│   "executionOrder": "v1",         // or "v0" (legacy)                                                                                                                                                                                    │
│   "errorWorkflow": "error-handler-id",                                                                                                                                                                                                   │
│   "timezone": "Europe/Berlin",                                                                                                                                                                                                           │
│   "saveManualExecutions": true,                                                                                                                                                                                                          │
│   "saveExecutionProgress": true,                                                                                                                                                                                                         │
│   "callerPolicy": "any",                                                                                                                                                                                                                 │
│   "timeout": -1,                  // -1 = no timeout                                                                                                                                                                                     │
│   "maxConcurrency": 10                                                                                                                                                                                                                   │
│ }                                                                                                                                                                                                                                        │
│ ```                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ Minimal valid example                                                                                                                                                                                                                    │
│ -------------------------------------------------                                                                                                                                                                                        │
│ ```json                                                                                                                                                                                                                                  │
│ {                                                                                                                                                                                                                                        │
│   "name": "Hello world",                                                                                                                                                                                                                 │
│   "nodes": [                                                                                                                                                                                                                             │
│     {                                                                                                                                                                                                                                    │
│       "parameters": {},                                                                                                                                                                                                                  │
│       "id": "uuid-1",                                                                                                                                                                                                                    │
│       "name": "Start",                                                                                                                                                                                                                   │
│       "type": "n8n-nodes-base.start",                                                                                                                                                                                                    │
│       "typeVersion": 1,                                                                                                                                                                                                                  │
│       "position": [250, 300]                                                                                                                                                                                                             │
│     },                                                                                                                                                                                                                                   │
│     {                                                                                                                                                                                                                                    │
│       "parameters": { "value": "Hello n8n" },                                                                                                                                                                                            │
│       "id": "uuid-2",                                                                                                                                                                                                                    │
│       "name": "Set",                                                                                                                                                                                                                     │
│       "type": "n8n-nodes-base.set",                                                                                                                                                                                                      │
│       "typeVersion": 2,                                                                                                                                                                                                                  │
│       "position": [450, 300]                                                                                                                                                                                                             │
│     }                                                                                                                                                                                                                                    │
│   ],                                                                                                                                                                                                                                     │
│   "connections": {                                                                                                                                                                                                                       │
│     "Start": {                                                                                                                                                                                                                           │
│       "main": [[{ "node": "Set", "type": "main", "index": 0 }]]                                                                                                                                                                          │
│     }                                                                                                                                                                                                                                    │
│   },                                                                                                                                                                                                                                     │
│   "active": false,                                                                                                                                                                                                                       │
│   "settings": {}                                                                                                                                                                                                                         │
│ }                                                                                                                                                                                                                                        │
│ ```                                                                                                                                                                                                                                      │
│                                                                                                                                                                                                                                          │
│ -------------------------------------------------                                                                                                                                                                                        │
│ Where to look next                                                                                                                                                                                                                       │
│ -------------------------------------------------                                                                                                                                                                                        │
│ - GitHub: `packages/workflow/src/Interfaces.ts` → `IWorkflowBase`, `INode`, `IConnections`, `IWorkflowSettings`.                                                                                                                         │
│ - REST API docs: `GET /rest/workflows` and `POST /rest/workflows` accept/return the same JSON.                                                                                                                                           │
│ - UI: Export any workflow → “Download” → inspect the file.                                                                                                                                                                               │
│                                                                                                                                                                                                                                          │
│ That JSON is all you need to store, version-control, or programmatically import/export workflows.                                                                                                                                        │
╰──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────╯

You:
